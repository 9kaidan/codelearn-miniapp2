<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>CodeLearn</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="app">

  <!-- HEADER -->
  <header class="topbar">
    <div class="profile">
      <div class="avatar">üë®‚Äçüíª</div>
      <div>
        <div class="username">–ü—Ä–∏–≤–µ—Ç, Developer</div>
        <div class="level">Level 3 ‚Ä¢ 120 XP</div>
      </div>
    </div>
    <button id="themeToggle" class="icon-btn">üåô</button>
  </header>

  <!-- –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò–ô –ö–û–ù–¢–ï–ù–¢ -->
  <main id="content" class="fade"></main>

  <!-- –ù–ò–ñ–ù–Ø–Ø –ù–ê–í–ò–ì–ê–¶–ò–Ø -->
  <nav class="bottom-nav">
    <button data-page="home">üè†</button>
    <button data-page="learn">üìö</button>
    <button data-page="progress">üìä</button>
    <button data-page="profile">üë§</button>
  </nav>

</div>

<!-- 1. Supabase –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Supabase -->
<script>
  const SUPABASE_URL = "https://tqxlvczendomdhtfxymz.supabase.co";
  const SUPABASE_KEY = "sb_publishable_6Z40NqEsZ2h7KVzvkJJjjQ_yd1271ET";

  window.supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
</script>

<!-- 3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Telegram -->
<script>
  if (window.Telegram && Telegram.WebApp) {
    Telegram.WebApp.ready();
    const tgUser = Telegram.WebApp.initDataUnsafe.user;
    window.TELEGRAM_USER_ID = tgUser?.id || null;
  } else {
    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—ã–π ID –¥–ª—è –ª–æ–∫–∞–ª–∫–∏, —á—Ç–æ–±—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    window.TELEGRAM_USER_ID = Math.floor(Math.random() * 1000000) + 100000;
    console.log("–¢–µ—Å—Ç–æ–≤—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π Telegram ID:", window.TELEGRAM_USER_ID);
  }
</script>

<!-- 4. –ü–æ–¥–∫–ª—é—á–∞–µ–º app.js –û–î–ò–ù –†–ê–ó –∏ –í –°–ê–ú–û–ú –ö–û–ù–¶–ï -->
<script type="module" src="js/app.js"></script>

</body>
</html>
